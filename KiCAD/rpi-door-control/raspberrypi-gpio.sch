EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:Carlolib-disc
LIBS:custom-parts
LIBS:raspberrypi-gpio-cache
EELAYER 27 0
EELAYER END
$Descr A 11000 8500
encoding utf-8
Sheet 1 1
Title "Door Controller"
Date "13 mar 2014"
Rev "0.3"
Comp "Shawn Wilson"
Comment1 "Raspberry Pi Door Controller"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L LED D4
U 1 1 531924B3
P 8000 4550
F 0 "D4" H 8000 4650 50  0000 C CNN
F 1 "LED" H 8000 4450 50  0000 C CNN
F 2 "" H 8000 4550 60  0001 C CNN
F 3 "" H 8000 4550 60  0001 C CNN
	1    8000 4550
	-1   0    0    1   
$EndComp
$Comp
L R R8
U 1 1 5319244B
P 8450 4550
F 0 "R8" V 8530 4550 50  0000 C CNN
F 1 "2K" V 8450 4550 50  0000 C CNN
F 2 "" H 8450 4550 60  0001 C CNN
F 3 "" H 8450 4550 60  0001 C CNN
	1    8450 4550
	0    -1   -1   0   
$EndComp
$Comp
L 1N4004 D5
U 1 1 53192395
P 8300 4050
F 0 "D5" H 8225 4125 40  0000 L BNN
F 1 "1N4007" H 8150 3950 40  0000 L CNN
F 2 "DO7" H 8300 4200 30  0001 C CNN
F 3 "" H 8300 4050 60  0001 C CNN
	1    8300 4050
	1    0    0    -1  
$EndComp
$Comp
L R R7
U 1 1 53191D01
P 6650 4000
F 0 "R7" V 6730 4000 50  0000 C CNN
F 1 "1K" V 6650 4000 50  0000 C CNN
F 2 "" H 6650 4000 60  0001 C CNN
F 3 "" H 6650 4000 60  0001 C CNN
	1    6650 4000
	0    -1   -1   0   
$EndComp
$Comp
L CONN_13X2 P1
U 1 1 50A55ABA
P 3800 3600
F 0 "P1" H 3800 4300 60  0000 C CNN
F 1 "CONN_13X2" V 3800 3600 50  0000 C CNN
F 2 "" H 3800 3600 60  0001 C CNN
F 3 "" H 3800 3600 60  0001 C CNN
	1    3800 3600
	1    0    0    -1  
$EndComp
NoConn ~ 4200 3100
Text Label 2650 3100 0    60   ~ 0
GPIO0(SDA)
Text Label 2650 3200 0    60   ~ 0
GPIO1(SCL)
Text Label 2650 3300 0    60   ~ 0
GPIO4
NoConn ~ 3400 3400
Text Label 2650 3500 0    60   ~ 0
GPIO17
Text Label 2650 3700 0    60   ~ 0
GPIO22
NoConn ~ 3400 3800
Text Label 2650 3900 0    60   ~ 0
GPIO10(MOSI)
Text Label 2650 4000 0    60   ~ 0
GPIO9(MISO)
Text Label 2650 4100 0    60   ~ 0
GPIO11(SCLK)
NoConn ~ 3400 4200
Text Label 4900 3300 2    60   ~ 0
TXD
Text Label 4900 3400 2    60   ~ 0
RXD
Text Label 4900 3500 2    60   ~ 0
GPIO18
NoConn ~ 4200 3600
Text Label 4900 3700 2    60   ~ 0
GPIO23
Text Label 4900 3800 2    60   ~ 0
GPIO24
NoConn ~ 4200 3900
Text Label 4900 4000 2    60   ~ 0
GPIO25
Text Label 4900 4100 2    60   ~ 0
GPIO8(CE0)
Text Label 4900 4200 2    60   ~ 0
GPIO7(CE1)
$Comp
L NPN Q1
U 1 1 531A5608
P 7250 4000
F 0 "Q1" H 7250 3850 50  0000 R CNN
F 1 "N3904" H 7250 4150 50  0000 R CNN
F 2 "~" H 7250 4000 60  0000 C CNN
F 3 "~" H 7250 4000 60  0000 C CNN
	1    7250 4000
	1    0    0    -1  
$EndComp
NoConn ~ 8000 3100
Text Notes 6700 1250 2    60   ~ 0
12V Power\nSupply
Text Notes 9650 2350 0    60   ~ 0
Maglock
Text Notes 7850 4300 0    60   ~ 0
Maglock\nPower
$Comp
L R R6
U 1 1 531C80F2
P 6250 5300
F 0 "R6" V 6330 5300 40  0000 C CNN
F 1 "330" V 6257 5301 40  0000 C CNN
F 2 "~" V 6180 5300 30  0000 C CNN
F 3 "~" H 6250 5300 30  0000 C CNN
	1    6250 5300
	1    0    0    -1  
$EndComp
$Comp
L LED D3
U 1 1 531C8101
P 6250 6200
F 0 "D3" H 6250 6300 50  0000 C CNN
F 1 "LED" H 6250 6100 50  0000 C CNN
F 2 "~" H 6250 6200 60  0000 C CNN
F 3 "~" H 6250 6200 60  0000 C CNN
	1    6250 6200
	0    1    1    0   
$EndComp
Text Notes 6200 5950 0    60   ~ 0
DOOR
$Comp
L LED D2
U 1 1 531C8331
P 5950 6200
F 0 "D2" H 5950 6300 50  0000 C CNN
F 1 "LED" H 5950 6100 50  0000 C CNN
F 2 "~" H 5950 6200 60  0000 C CNN
F 3 "~" H 5950 6200 60  0000 C CNN
	1    5950 6200
	0    1    1    0   
$EndComp
$Comp
L LED D1
U 1 1 531C8340
P 5650 6200
F 0 "D1" H 5650 6300 50  0000 C CNN
F 1 "LED" H 5650 6100 50  0000 C CNN
F 2 "~" H 5650 6200 60  0000 C CNN
F 3 "~" H 5650 6200 60  0000 C CNN
	1    5650 6200
	0    1    1    0   
$EndComp
$Comp
L R R4
U 1 1 531C834F
P 5650 5300
F 0 "R4" V 5730 5300 40  0000 C CNN
F 1 "330" V 5657 5301 40  0000 C CNN
F 2 "~" V 5580 5300 30  0000 C CNN
F 3 "~" H 5650 5300 30  0000 C CNN
	1    5650 5300
	1    0    0    -1  
$EndComp
$Comp
L R R5
U 1 1 531C835E
P 5950 5300
F 0 "R5" V 6030 5300 40  0000 C CNN
F 1 "330" V 5957 5301 40  0000 C CNN
F 2 "~" V 5880 5300 30  0000 C CNN
F 3 "~" H 5950 5300 30  0000 C CNN
	1    5950 5300
	1    0    0    -1  
$EndComp
Text Notes 5900 5950 0    60   ~ 0
RED
Text Notes 5500 5950 0    60   ~ 0
GREEN
Text Label 4900 3200 2    60   ~ 0
GND
$Comp
L SW_PUSH SW1
U 1 1 531C8935
P 2050 2600
F 0 "SW1" H 2200 2710 50  0000 C CNN
F 1 "SW_PUSH" H 2050 2520 50  0000 C CNN
F 2 "~" H 2050 2600 60  0000 C CNN
F 3 "~" H 2050 2600 60  0000 C CNN
	1    2050 2600
	1    0    0    -1  
$EndComp
$Comp
L R R1
U 1 1 531C8A1E
P 2050 3000
F 0 "R1" V 2130 3000 40  0000 C CNN
F 1 "10K" V 2057 3001 40  0000 C CNN
F 2 "~" V 1980 3000 30  0000 C CNN
F 3 "~" H 2050 3000 30  0000 C CNN
	1    2050 3000
	0    -1   -1   0   
$EndComp
Text Notes 1900 2400 0    60   ~ 0
BUTTON
Text Notes 1650 5110 2    60   ~ 0
Card Reader Unit\n
Text Label 1900 4850 0    39   ~ 0
RED
Text Label 1900 4750 0    39   ~ 0
GREEN
Text Label 1900 4350 0    39   ~ 0
RFID TXD
Text Label 1900 4450 0    39   ~ 0
+5V
Text Label 1900 4250 0    39   ~ 0
BELL
Text Label 2650 3600 0    60   ~ 0
GPIO21
$Comp
L R R2
U 1 1 531C991C
P 4950 5350
F 0 "R2" V 5030 5350 40  0000 C CNN
F 1 "1.8K" V 4957 5351 40  0000 C CNN
F 2 "~" V 4880 5350 30  0000 C CNN
F 3 "~" H 4950 5350 30  0000 C CNN
	1    4950 5350
	1    0    0    -1  
$EndComp
$Comp
L R R3
U 1 1 531C9D88
P 5100 6050
F 0 "R3" V 5180 6050 40  0000 C CNN
F 1 "3.3K" V 5107 6051 40  0000 C CNN
F 2 "~" V 5030 6050 30  0000 C CNN
F 3 "~" H 5100 6050 30  0000 C CNN
	1    5100 6050
	1    0    0    -1  
$EndComp
$Comp
L CONN_2 P2
U 1 1 531F9810
P 1100 2300
F 0 "P2" V 1050 2300 40  0000 C CNN
F 1 "CONN_2" V 1150 2300 40  0000 C CNN
F 2 "" H 1100 2300 60  0000 C CNN
F 3 "" H 1100 2300 60  0000 C CNN
	1    1100 2300
	-1   0    0    1   
$EndComp
$Comp
L CONN_2 P3
U 1 1 531F981F
P 9800 2600
F 0 "P3" V 9750 2600 40  0000 C CNN
F 1 "CONN_2" V 9850 2600 40  0000 C CNN
F 2 "" H 9800 2600 60  0000 C CNN
F 3 "" H 9800 2600 60  0000 C CNN
	1    9800 2600
	1    0    0    -1  
$EndComp
Text Notes 950  2000 0    60   ~ 0
Push-to-lock \nButton
$Comp
L CONN_2 P4
U 1 1 531F989A
P 6050 1600
F 0 "P4" V 6000 1600 40  0000 C CNN
F 1 "CONN_2" V 6100 1600 40  0000 C CNN
F 2 "" H 6050 1600 60  0000 C CNN
F 3 "" H 6050 1600 60  0000 C CNN
	1    6050 1600
	-1   0    0    1   
$EndComp
Text Label 9900 4100 2    60   ~ 0
+12V GND
$Comp
L RJ45 J1
U 1 1 531F9A33
P 1350 4500
F 0 "J1" H 1550 5000 60  0000 C CNN
F 1 "RJ45" H 1200 5000 60  0000 C CNN
F 2 "" H 1350 4500 60  0000 C CNN
F 3 "" H 1350 4500 60  0000 C CNN
	1    1350 4500
	0    -1   -1   0   
$EndComp
NoConn ~ 1800 4150
NoConn ~ 1000 3950
Text Label 1900 4550 0    39   ~ 0
GND
Text Label 4900 3000 2    60   ~ 0
+5V
Text Label 2650 3000 0    60   ~ 0
+3.3V
NoConn ~ 2650 4000
NoConn ~ 2650 4100
NoConn ~ 2650 3900
NoConn ~ 2650 3700
NoConn ~ 2650 3300
NoConn ~ 2650 3200
NoConn ~ 2650 3100
NoConn ~ 4900 3500
NoConn ~ 4900 4100
NoConn ~ 4900 4200
$Comp
L +5V #PWR01
U 1 1 531F9FD4
P 4500 2850
F 0 "#PWR01" H 4500 2940 20  0001 C CNN
F 1 "+5V" H 4500 2940 30  0000 C CNN
F 2 "" H 4500 2850 60  0000 C CNN
F 3 "" H 4500 2850 60  0000 C CNN
	1    4500 2850
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG02
U 1 1 531FA044
P 4200 3000
F 0 "#FLG02" H 4200 3095 30  0001 C CNN
F 1 "PWR_FLAG" H 4200 3180 30  0000 C CNN
F 2 "" H 4200 3000 60  0000 C CNN
F 3 "" H 4200 3000 60  0000 C CNN
	1    4200 3000
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR03
U 1 1 531FA053
P 3150 2850
F 0 "#PWR03" H 3150 2810 30  0001 C CNN
F 1 "+3.3V" H 3150 2960 30  0000 C CNN
F 2 "" H 3150 2850 60  0000 C CNN
F 3 "" H 3150 2850 60  0000 C CNN
	1    3150 2850
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG04
U 1 1 531FA0B5
P 3400 3000
F 0 "#FLG04" H 3400 3095 30  0001 C CNN
F 1 "PWR_FLAG" H 3400 3180 30  0000 C CNN
F 2 "" H 3400 3000 60  0000 C CNN
F 3 "" H 3400 3000 60  0000 C CNN
	1    3400 3000
	1    0    0    -1  
$EndComp
$Comp
L +12V #PWR05
U 1 1 5321074B
P 7000 1200
F 0 "#PWR05" H 7000 1150 20  0001 C CNN
F 1 "+12V" H 7000 1300 30  0000 C CNN
F 2 "" H 7000 1200 60  0000 C CNN
F 3 "" H 7000 1200 60  0000 C CNN
	1    7000 1200
	1    0    0    -1  
$EndComp
Text Label 6950 1500 2    60   ~ 0
+12V
$Comp
L GND #PWR06
U 1 1 53210A12
P 7000 2000
F 0 "#PWR06" H 7000 2000 30  0001 C CNN
F 1 "GND" H 7000 1930 30  0001 C CNN
F 2 "" H 7000 2000 60  0000 C CNN
F 3 "" H 7000 2000 60  0000 C CNN
	1    7000 2000
	1    0    0    -1  
$EndComp
Text Label 6950 1700 2    60   ~ 0
+12V GND
Text Label 9900 3900 2    60   ~ 0
+12V
$Comp
L GND #PWR07
U 1 1 53210C40
P 6250 6650
F 0 "#PWR07" H 6250 6650 30  0001 C CNN
F 1 "GND" H 6250 6580 30  0001 C CNN
F 2 "" H 6250 6650 60  0000 C CNN
F 3 "" H 6250 6650 60  0000 C CNN
	1    6250 6650
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR08
U 1 1 53210D61
P 5950 6650
F 0 "#PWR08" H 5950 6650 30  0001 C CNN
F 1 "GND" H 5950 6580 30  0001 C CNN
F 2 "" H 5950 6650 60  0000 C CNN
F 3 "" H 5950 6650 60  0000 C CNN
	1    5950 6650
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR09
U 1 1 53210E8D
P 5650 6650
F 0 "#PWR09" H 5650 6650 30  0001 C CNN
F 1 "GND" H 5650 6580 30  0001 C CNN
F 2 "" H 5650 6650 60  0000 C CNN
F 3 "" H 5650 6650 60  0000 C CNN
	1    5650 6650
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR010
U 1 1 532112ED
P 5100 6650
F 0 "#PWR010" H 5100 6650 30  0001 C CNN
F 1 "GND" H 5100 6580 30  0001 C CNN
F 2 "" H 5100 6650 60  0000 C CNN
F 3 "" H 5100 6650 60  0000 C CNN
	1    5100 6650
	1    0    0    -1  
$EndComp
Wire Wire Line
	4200 4200 4900 4200
Wire Wire Line
	4200 4100 4900 4100
Wire Wire Line
	4200 3800 5950 3800
Wire Wire Line
	4200 3700 5650 3700
Wire Wire Line
	4200 3500 4900 3500
Wire Wire Line
	3400 4100 2650 4100
Wire Wire Line
	3400 4000 2650 4000
Wire Wire Line
	3400 3900 2650 3900
Wire Wire Line
	3400 3700 2650 3700
Wire Wire Line
	1600 3500 3400 3500
Wire Wire Line
	3400 3300 2650 3300
Wire Wire Line
	3400 3200 2650 3200
Wire Wire Line
	3400 3100 2650 3100
Wire Wire Line
	2300 3000 3400 3000
Wire Wire Line
	6900 4000 7050 4000
Wire Wire Line
	7350 3650 8000 3650
Wire Wire Line
	7350 3650 7350 3800
Wire Wire Line
	7800 4550 7800 4900
Wire Wire Line
	7800 4900 9300 4900
Wire Wire Line
	7350 4200 7350 5050
Wire Wire Line
	7350 5050 9300 5050
Connection ~ 9300 4900
Wire Wire Line
	7750 3650 7750 4050
Wire Wire Line
	7750 4050 8150 4050
Connection ~ 7750 3650
Wire Wire Line
	9000 3250 9000 4550
Wire Wire Line
	9000 4550 8700 4550
Wire Wire Line
	9000 3250 8800 3250
Wire Wire Line
	9000 3450 8800 3450
Connection ~ 9000 3450
Connection ~ 9000 3900
Wire Wire Line
	8450 4050 9000 4050
Connection ~ 9000 4050
Wire Wire Line
	8000 3400 7750 3400
Wire Wire Line
	7750 3400 7750 2500
Wire Wire Line
	7750 2500 9450 2500
Wire Wire Line
	4200 3400 5100 3400
Wire Wire Line
	4200 4000 6400 4000
Wire Wire Line
	4200 3000 4900 3000
Wire Wire Line
	1800 3000 1600 3000
Connection ~ 1600 3000
Wire Wire Line
	4200 3300 5050 3300
Connection ~ 2500 2600
Wire Wire Line
	9300 5050 9300 2700
Wire Wire Line
	9300 2700 9450 2700
Connection ~ 9300 4100
Wire Wire Line
	4500 2850 4500 3000
Connection ~ 4500 3000
Wire Wire Line
	3150 2850 3150 3000
Connection ~ 3150 3000
Wire Wire Line
	1600 2400 1600 3500
Wire Wire Line
	1600 2600 1750 2600
Wire Wire Line
	1600 2400 1450 2400
Connection ~ 1600 2600
Wire Wire Line
	1450 2200 2500 2200
Wire Wire Line
	2500 2200 2500 2600
Wire Wire Line
	7000 1700 7000 2000
Wire Wire Line
	9000 3900 9950 3900
Wire Wire Line
	9300 4100 9950 4100
Wire Wire Line
	6250 6400 6250 6650
Wire Wire Line
	5950 6400 5950 6650
Wire Wire Line
	5650 6400 5650 6650
Wire Wire Line
	2350 2600 5250 2600
Wire Wire Line
	1800 4450 2300 4450
Wire Wire Line
	4200 3200 5250 3200
Wire Wire Line
	4950 4350 4950 5100
Wire Wire Line
	5100 5800 4950 5800
Wire Wire Line
	5100 6300 5100 6650
Wire Wire Line
	1800 4850 5950 4850
Wire Wire Line
	1800 4750 5650 4750
Wire Wire Line
	4950 5800 4950 5600
Wire Wire Line
	5250 2600 5250 6400
Wire Wire Line
	5250 6400 5100 6400
Connection ~ 5100 6400
Connection ~ 5250 3200
Wire Wire Line
	5650 3700 5650 5050
Wire Wire Line
	5950 3800 5950 5050
Wire Wire Line
	6250 4000 6250 5050
Wire Wire Line
	5650 5550 5650 6000
Wire Wire Line
	5950 6000 5950 5550
Wire Wire Line
	6250 5550 6250 6000
Connection ~ 5950 4850
Connection ~ 5650 4750
Wire Wire Line
	7000 1500 7000 1200
Wire Wire Line
	7000 1700 6400 1700
Wire Wire Line
	6400 1500 7000 1500
Wire Wire Line
	1800 4350 4950 4350
Wire Wire Line
	1800 4550 2300 4550
Wire Wire Line
	5100 3400 5100 5800
NoConn ~ 5050 3300
Wire Wire Line
	2300 3600 3400 3600
Wire Wire Line
	1800 4250 2300 4250
Wire Wire Line
	2300 4250 2300 3600
NoConn ~ 1800 4650
Connection ~ 6250 4000
$Comp
L PWR_FLAG #FLG011
U 1 1 53212F8C
P 7000 1350
F 0 "#FLG011" H 7000 1445 30  0001 C CNN
F 1 "PWR_FLAG" H 7000 1530 30  0000 C CNN
F 2 "" H 7000 1350 60  0000 C CNN
F 3 "" H 7000 1350 60  0000 C CNN
	1    7000 1350
	0    1    1    0   
$EndComp
Connection ~ 7000 1350
$Comp
L RELAY U1
U 1 1 53213285
P 8450 3250
F 0 "U1" H 8400 2650 60  0000 C CNN
F 1 "RELAY" H 8400 3550 60  0000 C CNN
F 2 "~" H 8400 3250 60  0000 C CNN
F 3 "~" H 8400 3250 60  0000 C CNN
	1    8450 3250
	1    0    0    -1  
$EndComp
Connection ~ 7000 1850
$Comp
L PWR_FLAG #FLG012
U 1 1 53212D98
P 7000 1850
F 0 "#FLG012" H 7000 1945 30  0001 C CNN
F 1 "PWR_FLAG" H 7000 2030 30  0000 C CNN
F 2 "" H 7000 1850 60  0000 C CNN
F 3 "" H 7000 1850 60  0000 C CNN
	1    7000 1850
	0    1    1    0   
$EndComp
$EndSCHEMATC
